<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Surpresa ‚Äî Clique aqui amor</title>
  <style>
    :root{--bg:#ffeef6;--accent:#ff4da6;--accent-dark:#c92a6b}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(135deg,var(--bg),#fff);display:flex;align-items:center;justify-content:center}

    .stage{position:relative;width:100%;height:100vh;overflow:hidden}

    .card{width:min(760px,92%);margin:auto;padding:28px;border-radius:18px;background:rgba(255,255,255,0.7);box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center}
    h1{margin:0 0 10px;font-size:clamp(18px,3.2vw,28px)}
    p.lead{margin:0 0 18px;color:#333;opacity:0.9}

    /* bot√£o fugitivo */
    #btnWrap{position:relative;height:320px}
    button#btn{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);padding:14px 22px;font-size:18px;border-radius:12px;border:none;cursor:pointer;user-select:none;
      background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:white;box-shadow:0 6px 18px rgba(201,42,107,0.25);transition:transform .15s ease,box-shadow .15s ease}
    button#btn:active{transform:translate(-50%,-50%) scale(.98);box-shadow:0 4px 10px rgba(0,0,0,0.12)}

    .meta{margin-top:14px;font-size:13px;color:#666}

    /* Modal final */
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);opacity:0;pointer-events:none;transition:opacity .2s}
    .overlay.show{opacity:1;pointer-events:auto}
    .modal{width:min(680px,94%);background:white;padding:20px;border-radius:14px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.25)}
    .modal h2{margin:6px 0 8px}
    .modal p{margin:8px 0 16px}
    .portrait{width:160px;height:160px;border-radius:12px;object-fit:cover;display:block;margin:0 auto 12px}
    .close{background:#eee;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}

    /* footer small */
    .small{font-size:12px;color:#888;margin-top:10px}

    /* mobile fixes */
    @media (max-width:420px){#btn{font-size:16px;padding:12px 18px}#btnWrap{height:260px}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="card" role="main">
      <h1>Surpresa pra sua mui√© üòè</h1>
      <p class="lead">Pe√ßa pra ela clicar no bot√£o. Mas adverte: o bot√£o √© t√≠mido ‚Äî corre quando ela tenta alcan√ßar. Depois de algumas tentativas ele revela o recado.</p>

      <div id="btnWrap" aria-hidden="false">
        <button id="btn" aria-label="Clique aqui amor" title="Clique aqui amor">Clique aqui amor üíñ</button>
      </div>

      <div class="meta">Tentativas: <span id="tries">0</span> ¬∑ Dificuldade: <span id="difficulty">M√©dia</span></div>
      <div class="small">Dica: em celulares toque uma vez no bot√£o (ele se mover√°) e tente tocar de novo. Para mudar a mensagem final, edite o arquivo HTML.</div>
    </div>
  </div>

  <!-- Modal final -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <img id="portrait" class="portrait" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'><rect width='100%' height='100%' fill='%23ffeef6'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%23c92a6b'>Cole aqui a foto de voc√™s</text></svg>" alt="Foto do casal"/>
      <h2 id="modalTitle">PARAB√âNS ‚ù§Ô∏è</h2>
      <p id="modalText">Voc√™ venceu o bot√£o fugitivo e desbloqueou seu pr√™mio: <strong>UM BEIJO</strong> ‚Äî e o melhor: <em>eu te amo</em>.</p>
      <p><button id="openGift" class="close">Ver surpresa extra</button> <button id="closeBtn" class="close">Fechar</button></p>
    </div>
  </div>

  <script>
    // Configur√°vel: quantas tentativas at√© deixar o bot√£o clic√°vel de verdade
    const ALLOW_AFTER = 6; // n√∫mero de tentativas necess√°rias
    const triesEl = document.getElementById('tries');
    const diffEl = document.getElementById('difficulty');
    const btn = document.getElementById('btn');
    const wrap = document.getElementById('btnWrap');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const openGift = document.getElementById('openGift');

    let tries = 0;
    let lastPos = {x: null, y: null};

    function updateMeta(){
      triesEl.textContent = tries;
      if(tries < 3) diffEl.textContent = 'F√°cil';
      else if(tries < ALLOW_AFTER) diffEl.textContent = 'M√©dia';
      else diffEl.textContent = 'Mestre';
    }

    function randPos(btnWidth=150, btnHeight=60){
      const pad = 12; // padding from edges
      const W = wrap.clientWidth;
      const H = wrap.clientHeight;
      const maxX = Math.max(W - btnWidth - pad, pad);
      const maxY = Math.max(H - btnHeight - pad, pad);
      const x = Math.floor(Math.random() * (maxX - pad)) + pad;
      const y = Math.floor(Math.random() * (maxY - pad)) + pad;
      return {x,y};
    }

    function moveButtonAway(evt){
      // on mouseover / touchstart move to a random pos
      const rect = btn.getBoundingClientRect();
      const pos = randPos(rect.width, rect.height);
      // prevent same pos repeatedly
      if(lastPos.x === pos.x && lastPos.y === pos.y){
        pos.x = (pos.x + 80) % (wrap.clientWidth - rect.width);
      }
      lastPos = pos;
      btn.style.left = pos.x + 'px';
      btn.style.top = pos.y + 'px';
      btn.style.transform = 'translate(0,0)';
      tries++;
      updateMeta();

      // after enough tries, let it be clickable: change text and behavior
      if(tries >= ALLOW_AFTER){
        btn.textContent = 'Agora clica de verdade! üíù';
        btn.removeEventListener('mouseover', onMouseOver);
        btn.removeEventListener('touchstart', onTouchStart);
        // add a tiny wobble animation to invite click
        btn.animate([
          { transform: 'translate(0,0) rotate(-3deg)' },
          { transform: 'translate(0,0) rotate(3deg)' },
          { transform: 'translate(0,0) rotate(0deg)' }
        ], { duration: 700, iterations: 4 });
      }
    }

    function onMouseOver(e){
      // if already allowed, do nothing
      if(tries >= ALLOW_AFTER) return;
      moveButtonAway(e);
    }
    function onTouchStart(e){
      if(tries >= ALLOW_AFTER) return;
      moveButtonAway(e);
      // prevent the touch from triggering click accidentally
      e.preventDefault();
    }

    btn.addEventListener('mouseover', onMouseOver);
    btn.addEventListener('touchstart', onTouchStart, {passive:false});

    // handle click: open modal
    btn.addEventListener('click', () => {
      if(tries < ALLOW_AFTER) {
        // cheeky: pretend it didn't work
        btn.textContent = 'Ops... sumiu! tenta de novo';
        return;
      }
      showModal();
    });

    function showModal(){
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
    }
    function hideModal(){
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
    }

    closeBtn.addEventListener('click', hideModal);
    overlay.addEventListener('click', (e)=>{ if(e.target === overlay) hideModal(); });

    // bot√£o "Ver surpresa extra" pode abrir uma foto maior, tocar √°udio, ou redirecionar
    openGift.addEventListener('click', ()=>{
      // exemplo simples: alterar texto e imagem ‚Äî personalize trocando a URL da imagem
      const title = document.getElementById('modalTitle');
      const text = document.getElementById('modalText');
      const portrait = document.getElementById('portrait');

      title.textContent = 'Surpresa extra! üéâ';
      text.innerHTML = 'Voc√™ desbloqueou um v√≠deo especial. Mostre pra ela e se joga no abra√ßo!';

      // substitua a fonte por uma imagem sua: atualize o atributo src no elemento <img>
      // portrait.src = 'sua-foto.jpg';

      // exemplo de abrir um v√≠deo embutido (descomente e ajuste se quiser):
      // portrait.replaceWith(document.createElement('video'));

    });

    // Inicializa
    updateMeta();

    // -- pequenas melhorias: evita que o bot√£o apare√ßa parcialmente fora do container ao redimensionar
    window.addEventListener('resize', ()=>{
      // se o bot√£o estiver fora do wrap, centraliza novamente
      const rect = btn.getBoundingClientRect();
      const wrapRect = wrap.getBoundingClientRect();
      if(rect.right > wrapRect.right || rect.bottom > wrapRect.bottom){
        btn.style.left = '50%'; btn.style.top = '50%'; btn.style.transform = 'translate(-50%,-50%)';
      }
    });
  </script>
</body>
</html>